<!DOCTYPE html>
<!-- saved from url=(0060)http://127.0.0.1:3000/expressions/operator-expr.html?search= -->
<html lang="en" class="sidebar-visible js light" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <!-- Book generated using mdBook -->
        
        <title>Operator expressions - The Rust Reference</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="rgb(255, 255, 255)">

        <link rel="icon" href="http://127.0.0.1:3000/favicon.svg">
        <link rel="shortcut icon" href="http://127.0.0.1:3000/favicon.png">
        <link rel="stylesheet" href="./Operator expressions - The Rust Reference_files/variables.css">
        <link rel="stylesheet" href="./Operator expressions - The Rust Reference_files/general.css">
        <link rel="stylesheet" href="./Operator expressions - The Rust Reference_files/chrome.css">
        <link rel="stylesheet" href="./Operator expressions - The Rust Reference_files/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="./Operator expressions - The Rust Reference_files/font-awesome.css">
        <link rel="stylesheet" href="./Operator expressions - The Rust Reference_files/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="./Operator expressions - The Rust Reference_files/highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="./Operator expressions - The Rust Reference_files/tomorrow-night.css" disabled="">
        <link rel="stylesheet" id="ayu-highlight-css" href="./Operator expressions - The Rust Reference_files/ayu-highlight.css" disabled="">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="./Operator expressions - The Rust Reference_files/reference.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="./Operator expressions - The Rust Reference_files/toc.js.下载"></script>
    <script src="./Operator expressions - The Rust Reference_files/searchindex.js.下载" id="search-index"></script></head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents" aria-hidden="false">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"><ol class="chapter"><li class="chapter-item expanded affix "><a href="http://127.0.0.1:3000/introduction.html" tabindex="0">Introduction</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/notation.html" tabindex="0"><strong aria-hidden="true">1.</strong> Notation</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/undefined-behavior.html" tabindex="0"><strong aria-hidden="true">2.</strong> Undefined behavior</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/undefined-behavior/builtin.html" tabindex="0"><strong aria-hidden="true">2.1.</strong> Builtin</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/undefined-behavior/lexical-structure.html" tabindex="0"><strong aria-hidden="true">2.2.</strong> Lexical structure</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/undefined-behavior/items.html" tabindex="0"><strong aria-hidden="true">2.3.</strong> Items</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/undefined-behavior/statements.html" tabindex="0"><strong aria-hidden="true">2.4.</strong> Statements</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/undefined-behavior/expressions.html" tabindex="0"><strong aria-hidden="true">2.5.</strong> Expressions</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/undefined-behavior/type-system.html" tabindex="0"><strong aria-hidden="true">2.6.</strong> Type System</a></li></ol></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/lexical-structure.html" tabindex="0"><strong aria-hidden="true">3.</strong> Lexical structure</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/input-format.html" tabindex="0"><strong aria-hidden="true">3.1.</strong> Input format</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/keywords.html" tabindex="0"><strong aria-hidden="true">3.2.</strong> Keywords</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/identifiers.html" tabindex="0"><strong aria-hidden="true">3.3.</strong> Identifiers</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/comments.html" tabindex="0"><strong aria-hidden="true">3.4.</strong> Comments</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/whitespace.html" tabindex="0"><strong aria-hidden="true">3.5.</strong> Whitespace</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/tokens.html" tabindex="0"><strong aria-hidden="true">3.6.</strong> Tokens</a></li></ol></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/crates-and-source-files.html" tabindex="0"><strong aria-hidden="true">4.</strong> Crates and source files</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/items.html" tabindex="0"><strong aria-hidden="true">5.</strong> Items</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/items/functions.html" tabindex="0"><strong aria-hidden="true">5.1.</strong> Functions</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/items/structs.html" tabindex="0"><strong aria-hidden="true">5.2.</strong> Structs</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/items/enumerations.html" tabindex="0"><strong aria-hidden="true">5.3.</strong> Enumerations</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/items/constant-items.html" tabindex="0"><strong aria-hidden="true">5.4.</strong> Constant items</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/items/traits.html" tabindex="0"><strong aria-hidden="true">5.5.</strong> Traits</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/items/implementations.html" tabindex="0"><strong aria-hidden="true">5.6.</strong> Implementations</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/items/associated-items.html" tabindex="0"><strong aria-hidden="true">5.7.</strong> Associated Items</a></li></ol></li><li class="chapter-item expanded"><a href="http://127.0.0.1:3000/statements-and-expressions.html" tabindex="0"><strong aria-hidden="true">6.</strong> Statements and expressions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/statements.html" tabindex="0"><strong aria-hidden="true">6.1.</strong> Statements</a></li><li class="chapter-item expanded"><a href="http://127.0.0.1:3000/expressions.html" tabindex="0"><strong aria-hidden="true">6.2.</strong> Expressions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/expressions/literal-expr.html" tabindex="0"><strong aria-hidden="true">6.2.1.</strong> Literal expressions</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/expressions/path-expr.html" tabindex="0"><strong aria-hidden="true">6.2.2.</strong> Path expressions</a></li><li class="chapter-item expanded"><a href="http://127.0.0.1:3000/expressions/block-expr.html" tabindex="0"><strong aria-hidden="true">6.2.3.</strong> Block expressions</a></li><li class="chapter-item expanded"><a href="http://127.0.0.1:3000/expressions/operator-expr.html" class="active" tabindex="0"><strong aria-hidden="true">6.2.4.</strong> Operator expressions</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/expressions/grouped-expr.html" tabindex="0"><strong aria-hidden="true">6.2.5.</strong> Grouped expressions</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/expressions/array-expr.html" tabindex="0"><strong aria-hidden="true">6.2.6.</strong> Array and index expressions</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/expressions/struct-expr.html" tabindex="0"><strong aria-hidden="true">6.2.7.</strong> Struct expressions</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/expressions/call-expr.html" tabindex="0"><strong aria-hidden="true">6.2.8.</strong> Call expressions</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/expressions/method-call-expr.html" tabindex="0"><strong aria-hidden="true">6.2.9.</strong> Method call expressions</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/expressions/field-expr.html" tabindex="0"><strong aria-hidden="true">6.2.10.</strong> Field access expressions</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/expressions/loop-expr.html" tabindex="0"><strong aria-hidden="true">6.2.11.</strong> Loop expressions</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/expressions/if-expr.html" tabindex="0"><strong aria-hidden="true">6.2.12.</strong> If expressions</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/expressions/return-expr.html" tabindex="0"><strong aria-hidden="true">6.2.13.</strong> Return expressions</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/expressions/underscore-expr.html" tabindex="0"><strong aria-hidden="true">6.2.14.</strong> Underscore expressions</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/patterns.html" tabindex="0"><strong aria-hidden="true">7.</strong> Patterns</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/type-system.html" tabindex="0"><strong aria-hidden="true">8.</strong> Type system</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/types.html" tabindex="0"><strong aria-hidden="true">8.1.</strong> Types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/types/boolean.html" tabindex="0"><strong aria-hidden="true">8.1.1.</strong> Boolean type</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/types/numeric.html" tabindex="0"><strong aria-hidden="true">8.1.2.</strong> Numeric types</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/types/textual.html" tabindex="0"><strong aria-hidden="true">8.1.3.</strong> Textual types</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/types/unit.html" tabindex="0"><strong aria-hidden="true">8.1.4.</strong> Unit type</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/types/array.html" tabindex="0"><strong aria-hidden="true">8.1.5.</strong> Array types</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/types/struct.html" tabindex="0"><strong aria-hidden="true">8.1.6.</strong> Struct types</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/types/enum.html" tabindex="0"><strong aria-hidden="true">8.1.7.</strong> Enumerated types</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/types/pointer.html" tabindex="0"><strong aria-hidden="true">8.1.8.</strong> Pointer types</a></li></ol></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/dynamically-sized-types.html" tabindex="0"><strong aria-hidden="true">8.2.</strong> Dynamically Sized Types</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/type-layout.html" tabindex="0"><strong aria-hidden="true">8.3.</strong> Type layout</a></li></ol></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/names.html" tabindex="0"><strong aria-hidden="true">9.</strong> Names</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/names/namespaces.html" tabindex="0"><strong aria-hidden="true">9.1.</strong> Namespaces</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/names/scopes.html" tabindex="0"><strong aria-hidden="true">9.2.</strong> Scopes</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/names/preludes.html" tabindex="0"><strong aria-hidden="true">9.3.</strong> Preludes</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/paths.html" tabindex="0"><strong aria-hidden="true">9.4.</strong> Paths</a></li></ol></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/const_eval.html" tabindex="0"><strong aria-hidden="true">10.</strong> Constant Evaluation</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/appendices.html" tabindex="0"><strong aria-hidden="true">11.</strong> Appendices</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/grammar.html" tabindex="0"><strong aria-hidden="true">11.1.</strong> Grammar summary</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/macro-ambiguity.html" tabindex="0"><strong aria-hidden="true">11.2.</strong> Macro Follow-Set Ambiguity Formal Specification</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/influences.html" tabindex="0"><strong aria-hidden="true">11.3.</strong> Influences</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/test-summary.html" tabindex="0"><strong aria-hidden="true">11.4.</strong> Test summary</a></li><li class="chapter-item expanded "><a href="http://127.0.0.1:3000/glossary.html" tabindex="0"><strong aria-hidden="true">11.5.</strong> Glossary</a></li></ol></li></ol></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar" style="top: 0px;">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar" aria-expanded="true">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme theme-selected" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="true" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust Reference</h1>

                    <div class="right-buttons">
                        <a href="http://127.0.0.1:3000/print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rust-lang/reference/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/rust-lang/reference/edit/master/src/expressions/operator-expr.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults"></ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div class="rule" id="r-expr.operator"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.operator" title="expr.operator"><span>[expr<wbr>.operator]</span></a>
</div>
<h1 id="operator-expressions"><a class="header" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#operator-expressions">Operator expressions</a></h1>
<div class="rule" id="r-expr.operator.syntax"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.operator.syntax" title="expr.operator.syntax"><span>[expr<wbr>.operator<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-OperatorExpression" onclick="show_railroad()"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#railroad-OperatorExpression">OperatorExpression</a></span> → <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="grammar-text"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#grammar-BorrowExpression">BorrowExpression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#grammar-DereferenceExpression">DereferenceExpression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#grammar-NegationExpression">NegationExpression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#grammar-ArithmeticOrLogicalExpression">ArithmeticOrLogicalExpression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#grammar-ComparisonExpression">ComparisonExpression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#grammar-LazyBooleanExpression">LazyBooleanExpression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#grammar-TypeCastExpression">TypeCastExpression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#grammar-AssignmentExpression">AssignmentExpression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#grammar-CompoundAssignmentExpression">CompoundAssignmentExpression</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Hide syntax diagram</button></p>
</div>
<div class="grammar-railroad">
<div style="width: 378px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-OperatorExpression"><svg class="railroad" viewBox="0 0 378 338" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"></rect>
<g class="verticalgrid">
<a class="link" xlink:href="operator-expr.html#grammar-OperatorExpression">
<text class="comment" x="78" y="25">
OperatorExpression</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path>
<g class="choice">
<path d=" M 35 53 h 24 m 148 0 h 136 m -65 0 l -5 -5 m 0 10 l 5 -5 m 65 0"></path>
<g class="sequence">
<a class="link" xlink:href="operator-expr.html#railroad-BorrowExpression">
<g class="nonterminal">
<rect height="22" width="148" x="59" y="42"></rect>
<text x="133" y="58">
BorrowExpression</text>
</g>
</a>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 284 0 v -9 a 12 12 0 0 1 12 -12"></path>
<path d=" M 47 74 v 33 m 284 0 v -33"></path>
<path d=" M 47 107 v 33 m 284 0 v -33"></path>
<path d=" M 47 140 v 33 m 284 0 v -33"></path>
<path d=" M 47 173 v 33 m 284 0 v -33"></path>
<path d=" M 47 206 v 33 m 284 0 v -33"></path>
<path d=" M 47 239 v 33 m 284 0 v -33"></path>
<path d=" M 47 272 v 33 m 284 0 v -33"></path>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 196 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="operator-expr.html#railroad-DereferenceExpression">
<g class="nonterminal">
<rect height="22" width="196" x="59" y="75"></rect>
<text x="157" y="91">
DereferenceExpression</text>
</g>
</a>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 164 0 h 96 m -45 0 l -5 -5 m 0 10 l 5 -5 m 45 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="operator-expr.html#railroad-NegationExpression">
<g class="nonterminal">
<rect height="22" width="164" x="59" y="108"></rect>
<text x="141" y="124">
NegationExpression</text>
</g>
</a>
</g>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 260 0 h 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="operator-expr.html#railroad-ArithmeticOrLogicalExpression">
<g class="nonterminal">
<rect height="22" width="260" x="59" y="141"></rect>
<text x="189" y="157">
ArithmeticOrLogicalExpression</text>
</g>
</a>
</g>
<path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 188 0 h 72 m -33 0 l -5 -5 m 0 10 l 5 -5 m 33 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="operator-expr.html#railroad-ComparisonExpression">
<g class="nonterminal">
<rect height="22" width="188" x="59" y="174"></rect>
<text x="153" y="190">
ComparisonExpression</text>
</g>
</a>
</g>
<path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 196 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="operator-expr.html#railroad-LazyBooleanExpression">
<g class="nonterminal">
<rect height="22" width="196" x="59" y="207"></rect>
<text x="157" y="223">
LazyBooleanExpression</text>
</g>
</a>
</g>
<path d=" M 47 239 v 0 a 12 12 0 0 0 12 12 m 164 0 h 96 m -45 0 l -5 -5 m 0 10 l 5 -5 m 45 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="operator-expr.html#railroad-TypeCastExpression">
<g class="nonterminal">
<rect height="22" width="164" x="59" y="240"></rect>
<text x="141" y="256">
TypeCastExpression</text>
</g>
</a>
</g>
<path d=" M 47 272 v 0 a 12 12 0 0 0 12 12 m 188 0 h 72 m -33 0 l -5 -5 m 0 10 l 5 -5 m 33 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="operator-expr.html#railroad-AssignmentExpression">
<g class="nonterminal">
<rect height="22" width="188" x="59" y="273"></rect>
<text x="153" y="289">
AssignmentExpression</text>
</g>
</a>
</g>
<path d=" M 47 305 v 0 a 12 12 0 0 0 12 12 m 252 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path>
<a class="link" xlink:href="operator-expr.html#railroad-CompoundAssignmentExpression">
<g class="nonterminal">
<rect height="22" width="252" x="59" y="306"></rect>
<text x="185" y="322">
CompoundAssignmentExpression</text>
</g>
</a>
</g>
<path d=" M 353 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path>
<path d=" M 25 53 h 10"></path>
<path d=" M 343 53 h 10"></path>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-expr.operator.intro"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.operator.intro" title="expr.operator.intro"><span>[expr<wbr>.operator<wbr>.intro]</span></a>
</div>
<p>Operators are defined for built in types by the Rust language.</p>
<div class="rule" id="r-expr.operator.trait"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.operator.trait" title="expr.operator.trait"><span>[expr<wbr>.operator<wbr>.trait]</span></a>
</div>
<p>Many of the following operators can also be overloaded using traits in <code class="hljs">std::ops</code> or <code class="hljs">std::cmp</code>.</p>
<div class="rule" id="r-expr.operator.int-overflow"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.operator.int-overflow" title="expr.operator.int-overflow"><span>[expr<wbr>.operator<wbr>.int-overflow]</span></a>
</div>
<h2 id="overflow"><a class="header" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#overflow">Overflow</a></h2>
<div class="rule" id="r-expr.operator.int-overflow.intro"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.operator.int-overflow.intro" title="expr.operator.int-overflow.intro"><span>[expr<wbr>.operator<wbr>.int-overflow<wbr>.intro]</span></a>
</div>
<p>Integer operators will panic when they overflow when compiled in debug mode.
The <code class="hljs">-C debug-assertions</code> and <code class="hljs">-C overflow-checks</code> compiler flags can be used to control this more directly.
The following things are considered to be overflow:</p>
<div class="rule" id="r-expr.operator.int-overflow.binary-arith"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.operator.int-overflow.binary-arith" title="expr.operator.int-overflow.binary-arith"><span>[expr<wbr>.operator<wbr>.int-overflow<wbr>.binary-arith]</span></a>
</div>
<ul>
<li>When <code class="hljs">+</code>, <code class="hljs">*</code> or binary <code class="hljs">-</code> create a value greater than the maximum value, or less than the minimum value that can be stored.</li>
</ul>
<div class="rule" id="r-expr.operator.int-overflow.unary-neg"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.operator.int-overflow.unary-neg" title="expr.operator.int-overflow.unary-neg"><span>[expr<wbr>.operator<wbr>.int-overflow<wbr>.unary-neg]</span></a>
</div>
<ul>
<li>Applying unary <code class="hljs">-</code> to the most negative value of any signed integer type, unless the operand is a <a href="http://127.0.0.1:3000/expressions/literal-expr.html#integer-literal-expressions">literal expression</a> (or a literal expression standing alone inside one or more <a href="http://127.0.0.1:3000/expressions/grouped-expr.html">grouped expressions</a>).</li>
</ul>
<div class="rule" id="r-expr.operator.int-overflow.div"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.operator.int-overflow.div" title="expr.operator.int-overflow.div"><span>[expr<wbr>.operator<wbr>.int-overflow<wbr>.div]</span></a>
</div>
<ul>
<li>Using <code class="hljs">/</code> or <code class="hljs">%</code>, where the left-hand argument is the smallest integer of a signed integer type and the right-hand argument is <code class="hljs">-1</code>.
These checks occur even when <code class="hljs">-C overflow-checks</code> is disabled, for legacy reasons.</li>
</ul>
<div class="rule" id="r-expr.operator.int-overflow.shift"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.operator.int-overflow.shift" title="expr.operator.int-overflow.shift"><span>[expr<wbr>.operator<wbr>.int-overflow<wbr>.shift]</span></a>
</div>
<ul>
<li>Using <code class="hljs">&lt;&lt;</code> or <code class="hljs">&gt;&gt;</code> where the right-hand argument is greater than or equal to the number of bits in the type of the left-hand argument, or is negative.</li>
</ul>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>The exception for literal expressions behind unary <code class="hljs">-</code> means that forms such as <code class="hljs">-128_i8</code> or <code class="hljs">let j: i8 = -(128)</code> never cause a panic and have the expected value of -128.</p>
<p>In these cases, the literal expression already has the most negative value for its type (for example, <code class="hljs">128_i8</code> has the value -128) because integer literals are truncated to their type per the description in <a href="http://127.0.0.1:3000/expressions/literal-expr.html#integer-literal-expressions">Integer literal expressions</a>.</p>
<p>Negation of these most negative values leaves the value unchanged due to two’s complement overflow conventions.</p>
<p>In <code class="hljs">rustc</code>, these most negative expressions are also ignored by the <code class="hljs">overflowing_literals</code> lint check.</p>
</blockquote>
</div>
<div class="rule" id="r-expr.operator.borrow"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.operator.borrow" title="expr.operator.borrow"><span>[expr<wbr>.operator<wbr>.borrow]</span></a>
</div>
<h2 id="borrow-operators"><a class="header" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#borrow-operators">Borrow operators</a></h2>
<div class="rule" id="r-expr.operator.borrow.syntax"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.operator.borrow.syntax" title="expr.operator.borrow.syntax"><span>[expr<wbr>.operator<wbr>.borrow<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-BorrowExpression" onclick="show_railroad()"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#railroad-BorrowExpression">BorrowExpression</a></span> → <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="grammar-literal">&amp;</span> | <span class="grammar-literal">&amp;&amp;</span> ) <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| ( <span class="grammar-literal">&amp;</span> | <span class="grammar-literal">&amp;&amp;</span> ) <span class="grammar-literal">mut</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Hide syntax diagram</button></p>
</div>
<div class="grammar-railroad">
<div style="width: 366px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-BorrowExpression"><svg class="railroad" viewBox="0 0 366 173" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"></rect>
<g class="verticalgrid">
<a class="link" xlink:href="operator-expr.html#grammar-BorrowExpression">
<text class="comment" x="71" y="25">
BorrowExpression</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path>
<g class="choice">
<path d=" M 35 53 h 24 m 194 0 h 78 m -36 0 l -5 -5 m 0 10 l 5 -5 m 36 0"></path>
<g class="sequence">
<g class="choice">
<path d=" M 59 53 h 24 m 28 0 h 32"></path>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="83" y="42"></rect>
<text x="97" y="58">
&amp;</text>
</g>
<path d=" M 59 53 a 12 12 0 0 1 12 12 v 9 m 60 0 v -9 a 12 12 0 0 1 12 -12"></path>
<path d=" M 71 74 v 0 a 12 12 0 0 0 12 12 m 36 0 h 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="83" y="75"></rect>
<text x="101" y="91">
&amp;&amp;</text>
</g>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="153" y="42"></rect>
<text x="203" y="58">
Expression</text>
</g>
</a>
<path d=" M 143 53 h 10"></path>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 42 m 272 0 v -42 a 12 12 0 0 1 12 -12"></path>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 248 0 h 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<g class="choice">
<path d=" M 59 119 h 24 m 28 0 h 32"></path>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="83" y="108"></rect>
<text x="97" y="124">
&amp;</text>
</g>
<path d=" M 59 119 a 12 12 0 0 1 12 12 v 9 m 60 0 v -9 a 12 12 0 0 1 12 -12"></path>
<path d=" M 71 140 v 0 a 12 12 0 0 0 12 12 m 36 0 h 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="83" y="141"></rect>
<text x="101" y="157">
&amp;&amp;</text>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="153" y="108"></rect>
<text x="175" y="124">
mut</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="207" y="108"></rect>
<text x="257" y="124">
Expression</text>
</g>
</a>
<path d=" M 143 119 h 10"></path>
<path d=" M 197 119 h 10"></path>
</g>
</g>
<path d=" M 341 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path>
<path d=" M 25 53 h 10"></path>
<path d=" M 331 53 h 10"></path>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-expr.operator.borrow.intro"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.operator.borrow.intro" title="expr.operator.borrow.intro"><span>[expr<wbr>.operator<wbr>.borrow<wbr>.intro]</span></a>
</div>
<p>The <code class="hljs">&amp;</code> (shared borrow) and <code class="hljs">&amp;mut</code> (mutable borrow) operators are unary prefix operators.</p>
<div class="rule" id="r-expr.operator.borrow.result"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.operator.borrow.result" title="expr.operator.borrow.result"><span>[expr<wbr>.operator<wbr>.borrow<wbr>.result]</span></a>
</div>
<p>When applied to a <a href="http://127.0.0.1:3000/expressions.html#place-expressions-and-value-expressions">place expression</a>, this expressions produces a reference (pointer) to the location that the value refers to.</p>
<div class="rule" id="r-expr.operator.borrow.lifetime"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.operator.borrow.lifetime" title="expr.operator.borrow.lifetime"><span>[expr<wbr>.operator<wbr>.borrow<wbr>.lifetime]</span></a>
</div>
<p>The memory location is also placed into a borrowed state for the duration of the reference.
For a shared borrow (<code class="hljs">&amp;</code>), this implies that the place may not be mutated, but it may be read or shared again.
For a mutable borrow (<code class="hljs">&amp;mut</code>), the place may not be accessed in any way until the borrow expires.</p>
<div class="rule" id="r-expr.operator.borrow.mut"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.operator.borrow.mut" title="expr.operator.borrow.mut"><span>[expr<wbr>.operator<wbr>.borrow<wbr>.mut]</span></a>
</div>
<p><code class="hljs">&amp;mut</code> evaluates its operand in a mutable place expression context.</p>
<div class="rule" id="r-expr.operator.borrow.temporary"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.operator.borrow.temporary" title="expr.operator.borrow.temporary"><span>[expr<wbr>.operator<wbr>.borrow<wbr>.temporary]</span></a>
</div>
<p>If the <code class="hljs">&amp;</code> or <code class="hljs">&amp;mut</code> operators are applied to a <a href="http://127.0.0.1:3000/expressions.html#place-expressions-and-value-expressions">value expression</a>, then a <a href="http://127.0.0.1:3000/expressions.html#temporaries">temporary value</a> is created.</p>
<p>These operators cannot be overloaded.</p>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span>{
    <span class="hljs-comment">// a temporary with value 7 is created that lasts for this scope.</span>
    <span class="hljs-keyword">let</span> shared_reference = &amp;<span class="hljs-number">7</span>;
}
<span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> array = [-<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>];
{
    <span class="hljs-comment">// Mutably borrows `array` for this scope.</span>
    <span class="hljs-comment">// `array` may only be used through `mutable_reference`.</span>
    <span class="hljs-keyword">let</span> mutable_reference = &amp;<span class="hljs-keyword">mut</span> array;
}
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-expr.borrow.and-and-syntax"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.borrow.and-and-syntax" title="expr.borrow.and-and-syntax"><span>[expr<wbr>.borrow<wbr>.and-and-syntax]</span></a>
</div>
<p>Even though <code class="hljs">&amp;&amp;</code> is a single token (<a href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#lazy-boolean-operators">the lazy ‘and’ operator</a>), when used in the context of borrow expressions it works as two borrows:</p>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span><span class="hljs-comment">// same meanings:</span>
<span class="hljs-keyword">let</span> a = &amp;&amp;  <span class="hljs-number">10</span>;
<span class="hljs-keyword">let</span> a = &amp; &amp; <span class="hljs-number">10</span>;

<span class="hljs-comment">// same meanings:</span>
<span class="hljs-keyword">let</span> a = &amp;&amp;&amp;&amp;  <span class="hljs-keyword">mut</span> <span class="hljs-number">10</span>;
<span class="hljs-keyword">let</span> a = &amp;&amp; &amp;&amp; <span class="hljs-keyword">mut</span> <span class="hljs-number">10</span>;
<span class="hljs-keyword">let</span> a = &amp; &amp; &amp; &amp; <span class="hljs-keyword">mut</span> <span class="hljs-number">10</span>;
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-expr.deref"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.deref" title="expr.deref"><span>[expr<wbr>.deref]</span></a>
</div>
<h2 id="the-dereference-operator"><a class="header" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#the-dereference-operator">The dereference operator</a></h2>
<div class="rule" id="r-expr.deref.syntax"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.deref.syntax" title="expr.deref.syntax"><span>[expr<wbr>.deref<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-DereferenceExpression" onclick="show_railroad()"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#railroad-DereferenceExpression">DereferenceExpression</a></span> → <span class="grammar-literal">*</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Hide syntax diagram</button></p>
</div>
<div class="grammar-railroad">
<div style="width: 208px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-DereferenceExpression"><svg class="railroad" viewBox="0 0 208 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"></rect>
<g class="verticalgrid">
<a class="link" xlink:href="operator-expr.html#grammar-DereferenceExpression">
<text class="comment" x="92" y="25">
DereferenceExpression</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="35" y="42"></rect>
<text x="49" y="58">
*</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="73" y="42"></rect>
<text x="123" y="58">
Expression</text>
</g>
</a>
<path d=" M 63 53 h 10"></path>
</g>
<path d=" M 183 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path>
<path d=" M 25 53 h 10"></path>
<path d=" M 173 53 h 10"></path>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-expr.deref.intro"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.deref.intro" title="expr.deref.intro"><span>[expr<wbr>.deref<wbr>.intro]</span></a>
</div>
<p>The <code class="hljs">*</code> (dereference) operator is also a unary prefix operator.</p>
<div class="rule" id="r-expr.deref.result"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.deref.result" title="expr.deref.result"><span>[expr<wbr>.deref<wbr>.result]</span></a>
</div>
<p>When applied to a <a href="http://127.0.0.1:3000/types/pointer.html">pointer</a> it denotes the pointed-to location.</p>
<div class="rule" id="r-expr.deref.mut"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.deref.mut" title="expr.deref.mut"><span>[expr<wbr>.deref<wbr>.mut]</span></a>
</div>
<p>If the expression is of type <code class="hljs">&amp;mut T</code> or <code class="hljs">*mut T</code>, and is either a local variable, a (nested) field of a local variable or is a mutable <a href="http://127.0.0.1:3000/expressions.html#place-expressions-and-value-expressions">place expression</a>, then the resulting memory location can be assigned to.</p>
<div class="rule" id="r-expr.deref.safety"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.deref.safety" title="expr.deref.safety"><span>[expr<wbr>.deref<wbr>.safety]</span></a>
</div>
<p>Dereferencing a raw pointer requires <code class="hljs">unsafe</code>.</p>
<div class="rule" id="r-expr.deref.traits"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.deref.traits" title="expr.deref.traits"><span>[expr<wbr>.deref<wbr>.traits]</span></a>
</div>
<p>On non-pointer types <code class="hljs">*x</code> is equivalent to <code class="hljs">*std::ops::Deref::deref(&amp;x)</code> in an <a href="http://127.0.0.1:3000/expressions.html#mutability">immutable place expression context</a> and <code class="hljs">*std::ops::DerefMut::deref_mut(&amp;mut x)</code> in a mutable place expression context.</p>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span><span class="hljs-keyword">let</span> x = &amp;<span class="hljs-number">7</span>;
<span class="hljs-built_in">assert_eq!</span>(*x, <span class="hljs-number">7</span>);
<span class="hljs-keyword">let</span> y = &amp;<span class="hljs-keyword">mut</span> <span class="hljs-number">9</span>;
*y = <span class="hljs-number">11</span>;
<span class="hljs-built_in">assert_eq!</span>(*y, <span class="hljs-number">11</span>);
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-expr.negate"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.negate" title="expr.negate"><span>[expr<wbr>.negate]</span></a>
</div>
<h2 id="negation-operators"><a class="header" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#negation-operators">Negation operators</a></h2>
<div class="rule" id="r-expr.negate.syntax"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.negate.syntax" title="expr.negate.syntax"><span>[expr<wbr>.negate<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-NegationExpression" onclick="show_railroad()"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#railroad-NegationExpression">NegationExpression</a></span> → <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="grammar-literal">-</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-literal">!</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Hide syntax diagram</button></p>
</div>
<div class="grammar-railroad">
<div style="width: 256px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-NegationExpression"><svg class="railroad" viewBox="0 0 256 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"></rect>
<g class="verticalgrid">
<a class="link" xlink:href="operator-expr.html#grammar-NegationExpression">
<text class="comment" x="78" y="25">
NegationExpression</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path>
<g class="choice">
<path d=" M 35 53 h 24 m 138 0 h 24"></path>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="42"></rect>
<text x="73" y="58">
-</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="97" y="42"></rect>
<text x="147" y="58">
Expression</text>
</g>
</a>
<path d=" M 87 53 h 10"></path>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 162 0 v -9 a 12 12 0 0 1 12 -12"></path>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 138 0 h 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="75"></rect>
<text x="73" y="91">
!</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="97" y="75"></rect>
<text x="147" y="91">
Expression</text>
</g>
</a>
<path d=" M 87 86 h 10"></path>
</g>
</g>
<path d=" M 231 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path>
<path d=" M 25 53 h 10"></path>
<path d=" M 221 53 h 10"></path>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-expr.negate.intro"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.negate.intro" title="expr.negate.intro"><span>[expr<wbr>.negate<wbr>.intro]</span></a>
</div>
<p>These are the last two unary operators.</p>
<div class="rule" id="r-expr.negate.results"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.negate.results" title="expr.negate.results"><span>[expr<wbr>.negate<wbr>.results]</span></a>
</div>
<p>This table summarizes the behavior of them on primitive types and which traits are used to overload these operators for other types.
Remember that signed integers are always represented using two’s complement.
The operands of all of these operators are evaluated in <a href="http://127.0.0.1:3000/expressions.html#place-expressions-and-value-expressions">value expression context</a> so are moved or copied.</p>
<div class="table-wrapper"><table><thead><tr><th>Symbol</th><th>Integer</th><th><code class="hljs">bool</code></th><th>Floating Point</th><th>Overloading Trait</th></tr></thead><tbody>
<tr><td><code class="hljs">-</code></td><td>Negation*</td><td></td><td>Negation</td><td><code class="hljs">std::ops::Neg</code></td></tr>
<tr><td><code class="hljs">!</code></td><td>Bitwise NOT</td><td><a href="http://127.0.0.1:3000/types/boolean.html#logical-not">Logical NOT</a></td><td></td><td><code class="hljs">std::ops::Not</code></td></tr>
</tbody></table>
</div>
<p>* Only for signed integer types.</p>
<p>Here are some example of these operators</p>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span><span class="hljs-keyword">let</span> x = <span class="hljs-number">6</span>;
<span class="hljs-built_in">assert_eq!</span>(-x, -<span class="hljs-number">6</span>);
<span class="hljs-built_in">assert_eq!</span>(!x, -<span class="hljs-number">7</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-literal">true</span>, !<span class="hljs-literal">false</span>);
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-expr.arith-logic"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.arith-logic" title="expr.arith-logic"><span>[expr<wbr>.arith-logic]</span></a>
</div>
<h2 id="arithmetic-and-logical-binary-operators"><a class="header" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#arithmetic-and-logical-binary-operators">Arithmetic and Logical Binary Operators</a></h2>
<div class="rule" id="r-expr.arith-logic.syntax"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.arith-logic.syntax" title="expr.arith-logic.syntax"><span>[expr<wbr>.arith-logic<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-ArithmeticOrLogicalExpression" onclick="show_railroad()"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#railroad-ArithmeticOrLogicalExpression">ArithmeticOrLogicalExpression</a></span> → <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">+</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">-</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">*</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">/</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">%</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">&amp;</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">|</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">^</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">&lt;&lt;</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">&gt;&gt;</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Hide syntax diagram</button></p>
</div>
<div class="grammar-railroad">
<div style="width: 374px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ArithmeticOrLogicalExpression"><svg class="railroad" viewBox="0 0 374 371" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"></rect>
<g class="verticalgrid">
<a class="link" xlink:href="operator-expr.html#grammar-ArithmeticOrLogicalExpression">
<text class="comment" x="120" y="25">
ArithmeticOrLogicalExpression</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path>
<g class="choice">
<path d=" M 35 53 h 24 m 248 0 h 32"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="42"></rect>
<text x="109" y="58">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="42"></rect>
<text x="183" y="58">
+</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="207" y="42"></rect>
<text x="257" y="58">
Expression</text>
</g>
</a>
<path d=" M 159 53 h 10"></path>
<path d=" M 197 53 h 10"></path>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 280 0 v -9 a 12 12 0 0 1 12 -12"></path>
<path d=" M 47 74 v 33 m 280 0 v -33"></path>
<path d=" M 47 107 v 33 m 280 0 v -33"></path>
<path d=" M 47 140 v 33 m 280 0 v -33"></path>
<path d=" M 47 173 v 33 m 280 0 v -33"></path>
<path d=" M 47 206 v 33 m 280 0 v -33"></path>
<path d=" M 47 239 v 33 m 280 0 v -33"></path>
<path d=" M 47 272 v 33 m 280 0 v -33"></path>
<path d=" M 47 305 v 33 m 280 0 v -33"></path>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 248 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="75"></rect>
<text x="109" y="91">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="75"></rect>
<text x="183" y="91">
-</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="207" y="75"></rect>
<text x="257" y="91">
Expression</text>
</g>
</a>
<path d=" M 159 86 h 10"></path>
<path d=" M 197 86 h 10"></path>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 248 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="108"></rect>
<text x="109" y="124">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="108"></rect>
<text x="183" y="124">
*</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="207" y="108"></rect>
<text x="257" y="124">
Expression</text>
</g>
</a>
<path d=" M 159 119 h 10"></path>
<path d=" M 197 119 h 10"></path>
</g>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 248 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="141"></rect>
<text x="109" y="157">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="141"></rect>
<text x="183" y="157">
/</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="207" y="141"></rect>
<text x="257" y="157">
Expression</text>
</g>
</a>
<path d=" M 159 152 h 10"></path>
<path d=" M 197 152 h 10"></path>
</g>
<path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 248 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="174"></rect>
<text x="109" y="190">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="174"></rect>
<text x="183" y="190">
%</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="207" y="174"></rect>
<text x="257" y="190">
Expression</text>
</g>
</a>
<path d=" M 159 185 h 10"></path>
<path d=" M 197 185 h 10"></path>
</g>
<path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 248 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="207"></rect>
<text x="109" y="223">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="207"></rect>
<text x="183" y="223">
&amp;</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="207" y="207"></rect>
<text x="257" y="223">
Expression</text>
</g>
</a>
<path d=" M 159 218 h 10"></path>
<path d=" M 197 218 h 10"></path>
</g>
<path d=" M 47 239 v 0 a 12 12 0 0 0 12 12 m 248 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="240"></rect>
<text x="109" y="256">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="240"></rect>
<text x="183" y="256">
|</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="207" y="240"></rect>
<text x="257" y="256">
Expression</text>
</g>
</a>
<path d=" M 159 251 h 10"></path>
<path d=" M 197 251 h 10"></path>
</g>
<path d=" M 47 272 v 0 a 12 12 0 0 0 12 12 m 248 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="273"></rect>
<text x="109" y="289">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="273"></rect>
<text x="183" y="289">
^</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="207" y="273"></rect>
<text x="257" y="289">
Expression</text>
</g>
</a>
<path d=" M 159 284 h 10"></path>
<path d=" M 197 284 h 10"></path>
</g>
<path d=" M 47 305 v 0 a 12 12 0 0 0 12 12 m 256 0 h 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="306"></rect>
<text x="109" y="322">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="169" y="306"></rect>
<text x="187" y="322">
&lt;&lt;</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="215" y="306"></rect>
<text x="265" y="322">
Expression</text>
</g>
</a>
<path d=" M 159 317 h 10"></path>
<path d=" M 205 317 h 10"></path>
</g>
<path d=" M 47 338 v 0 a 12 12 0 0 0 12 12 m 256 0 h 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="339"></rect>
<text x="109" y="355">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="169" y="339"></rect>
<text x="187" y="355">
&gt;&gt;</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="215" y="339"></rect>
<text x="265" y="355">
Expression</text>
</g>
</a>
<path d=" M 159 350 h 10"></path>
<path d=" M 205 350 h 10"></path>
</g>
</g>
<path d=" M 349 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path>
<path d=" M 25 53 h 10"></path>
<path d=" M 339 53 h 10"></path>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-expr.arith-logic.intro"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.arith-logic.intro" title="expr.arith-logic.intro"><span>[expr<wbr>.arith-logic<wbr>.intro]</span></a>
</div>
<p>Binary operators expressions are all written with infix notation.</p>
<div class="rule" id="r-expr.arith-logic.behavior"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.arith-logic.behavior" title="expr.arith-logic.behavior"><span>[expr<wbr>.arith-logic<wbr>.behavior]</span></a>
</div>
<p>This table summarizes the behavior of arithmetic and logical binary operators on primitive types and which traits are used to overload these operators for other types.
Remember that signed integers are always represented using two’s complement.
The operands of all of these operators are evaluated in <a href="http://127.0.0.1:3000/expressions.html#place-expressions-and-value-expressions">value expression context</a> so are moved or copied.</p>
<div class="table-wrapper"><table><thead><tr><th>Symbol</th><th>Integer</th><th><code class="hljs">bool</code></th><th>Floating Point</th><th>Overloading Trait</th><th>Overloading Compound Assignment Trait</th></tr></thead><tbody>
<tr><td><code class="hljs">+</code></td><td>Addition</td><td></td><td>Addition</td><td><code class="hljs">std::ops::Add</code></td><td><code class="hljs">std::ops::AddAssign</code></td></tr>
<tr><td><code class="hljs">-</code></td><td>Subtraction</td><td></td><td>Subtraction</td><td><code class="hljs">std::ops::Sub</code></td><td><code class="hljs">std::ops::SubAssign</code></td></tr>
<tr><td><code class="hljs">*</code></td><td>Multiplication</td><td></td><td>Multiplication</td><td><code class="hljs">std::ops::Mul</code></td><td><code class="hljs">std::ops::MulAssign</code></td></tr>
<tr><td><code class="hljs">/</code></td><td>Division*†</td><td></td><td>Division</td><td><code class="hljs">std::ops::Div</code></td><td><code class="hljs">std::ops::DivAssign</code></td></tr>
<tr><td><code class="hljs">%</code></td><td>Remainder**†</td><td></td><td>Remainder</td><td><code class="hljs">std::ops::Rem</code></td><td><code class="hljs">std::ops::RemAssign</code></td></tr>
<tr><td><code class="hljs">&amp;</code></td><td>Bitwise AND</td><td><a href="http://127.0.0.1:3000/types/boolean.html#logical-and">Logical AND</a></td><td></td><td><code class="hljs">std::ops::BitAnd</code></td><td><code class="hljs">std::ops::BitAndAssign</code></td></tr>
<tr><td><code class="hljs">|</code></td><td>Bitwise OR</td><td><a href="http://127.0.0.1:3000/types/boolean.html#logical-or">Logical OR</a></td><td></td><td><code class="hljs">std::ops::BitOr</code></td><td><code class="hljs">std::ops::BitOrAssign</code></td></tr>
<tr><td><code class="hljs">^</code></td><td>Bitwise XOR</td><td><a href="http://127.0.0.1:3000/types/boolean.html#logical-xor">Logical XOR</a></td><td></td><td><code class="hljs">std::ops::BitXor</code></td><td><code class="hljs">std::ops::BitXorAssign</code></td></tr>
<tr><td><code class="hljs">&lt;&lt;</code></td><td>Left Shift</td><td></td><td></td><td><code class="hljs">std::ops::Shl</code></td><td><code class="hljs">std::ops::ShlAssign</code></td></tr>
<tr><td><code class="hljs">&gt;&gt;</code></td><td>Right Shift***</td><td></td><td></td><td><code class="hljs">std::ops::Shr</code></td><td><code class="hljs">std::ops::ShrAssign</code></td></tr>
</tbody></table>
</div>
<p>* Integer division rounds towards zero.</p>
<p>** Rust uses a remainder defined with <a href="https://en.wikipedia.org/wiki/Modulo_operation#Variants_of_the_definition">truncating division</a>. Given <code class="hljs">remainder = dividend % divisor</code>, the remainder will have the same sign as the dividend.</p>
<p>*** Arithmetic right shift on signed integer types, logical right shift on
unsigned integer types.</p>
<p>† For integer types, division by zero panics.</p>
<p>Here are examples of these operators being used.</p>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span><span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">3</span> + <span class="hljs-number">6</span>, <span class="hljs-number">9</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">5.5</span> - <span class="hljs-number">1.25</span>, <span class="hljs-number">4.25</span>);
<span class="hljs-built_in">assert_eq!</span>(-<span class="hljs-number">5</span> * <span class="hljs-number">14</span>, -<span class="hljs-number">70</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">14</span> / <span class="hljs-number">3</span>, <span class="hljs-number">4</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">100</span> % <span class="hljs-number">7</span>, <span class="hljs-number">2</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">0b1010</span> &amp; <span class="hljs-number">0b1100</span>, <span class="hljs-number">0b1000</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">0b1010</span> | <span class="hljs-number">0b1100</span>, <span class="hljs-number">0b1110</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">0b1010</span> ^ <span class="hljs-number">0b1100</span>, <span class="hljs-number">0b110</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">13</span> &lt;&lt; <span class="hljs-number">3</span>, <span class="hljs-number">104</span>);
<span class="hljs-built_in">assert_eq!</span>(-<span class="hljs-number">10</span> &gt;&gt; <span class="hljs-number">2</span>, -<span class="hljs-number">3</span>);
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-expr.arith-logic.string-append"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.arith-logic.string-append" title="expr.arith-logic.string-append"><span>[expr<wbr>.arith-logic<wbr>.string-append]</span></a>
</div>
<h3 id="string-concatenation"><a class="header" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#string-concatenation">String concatenation</a></h3>
<p>For <code class="hljs">String</code> types, the <code class="hljs">+</code> operator performs string concatenation by calling the <code class="hljs">append</code> method. The left operand must be a mutable <code class="hljs">String</code> and the right operand must be of type <code class="hljs">&amp;str</code>.</p>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> s: <span class="hljs-built_in">String</span> = <span class="hljs-built_in">String</span>::from(<span class="hljs-string">"Hello"</span>);
s = s + <span class="hljs-string">", world!"</span>; <span class="hljs-comment">// equivalent to s.append(", world!")</span>
println(s.as_str()); <span class="hljs-comment">// prints "Hello, world!"</span>
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-expr.cmp"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.cmp" title="expr.cmp"><span>[expr<wbr>.cmp]</span></a>
</div>
<h2 id="comparison-operators"><a class="header" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#comparison-operators">Comparison Operators</a></h2>
<div class="rule" id="r-expr.cmp.syntax"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.cmp.syntax" title="expr.cmp.syntax"><span>[expr<wbr>.cmp<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-ComparisonExpression" onclick="show_railroad()"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#railroad-ComparisonExpression">ComparisonExpression</a></span> → <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">==</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">!=</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">&gt;</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">&lt;</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">&gt;=</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">&lt;=</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Hide syntax diagram</button></p>
</div>
<div class="grammar-railroad">
<div style="width: 374px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ComparisonExpression"><svg class="railroad" viewBox="0 0 374 239" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"></rect>
<g class="verticalgrid">
<a class="link" xlink:href="operator-expr.html#grammar-ComparisonExpression">
<text class="comment" x="88" y="25">
ComparisonExpression</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path>
<g class="choice">
<path d=" M 35 53 h 24 m 256 0 h 24"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="42"></rect>
<text x="109" y="58">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="169" y="42"></rect>
<text x="187" y="58">
==</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="215" y="42"></rect>
<text x="265" y="58">
Expression</text>
</g>
</a>
<path d=" M 159 53 h 10"></path>
<path d=" M 205 53 h 10"></path>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 280 0 v -9 a 12 12 0 0 1 12 -12"></path>
<path d=" M 47 74 v 33 m 280 0 v -33"></path>
<path d=" M 47 107 v 33 m 280 0 v -33"></path>
<path d=" M 47 140 v 33 m 280 0 v -33"></path>
<path d=" M 47 173 v 33 m 280 0 v -33"></path>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 256 0 h 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="75"></rect>
<text x="109" y="91">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="169" y="75"></rect>
<text x="187" y="91">
!=</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="215" y="75"></rect>
<text x="265" y="91">
Expression</text>
</g>
</a>
<path d=" M 159 86 h 10"></path>
<path d=" M 205 86 h 10"></path>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 248 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="108"></rect>
<text x="109" y="124">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="108"></rect>
<text x="183" y="124">
&gt;</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="207" y="108"></rect>
<text x="257" y="124">
Expression</text>
</g>
</a>
<path d=" M 159 119 h 10"></path>
<path d=" M 197 119 h 10"></path>
</g>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 248 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="141"></rect>
<text x="109" y="157">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="141"></rect>
<text x="183" y="157">
&lt;</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="207" y="141"></rect>
<text x="257" y="157">
Expression</text>
</g>
</a>
<path d=" M 159 152 h 10"></path>
<path d=" M 197 152 h 10"></path>
</g>
<path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 256 0 h 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="174"></rect>
<text x="109" y="190">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="169" y="174"></rect>
<text x="187" y="190">
&gt;=</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="215" y="174"></rect>
<text x="265" y="190">
Expression</text>
</g>
</a>
<path d=" M 159 185 h 10"></path>
<path d=" M 205 185 h 10"></path>
</g>
<path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 256 0 h 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="207"></rect>
<text x="109" y="223">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="169" y="207"></rect>
<text x="187" y="223">
&lt;=</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="215" y="207"></rect>
<text x="265" y="223">
Expression</text>
</g>
</a>
<path d=" M 159 218 h 10"></path>
<path d=" M 205 218 h 10"></path>
</g>
</g>
<path d=" M 349 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path>
<path d=" M 25 53 h 10"></path>
<path d=" M 339 53 h 10"></path>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-expr.cmp.intro"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.cmp.intro" title="expr.cmp.intro"><span>[expr<wbr>.cmp<wbr>.intro]</span></a>
</div>
<p>Comparison operators are also defined both for primitive types and many types in the standard library.</p>
<div class="rule" id="r-expr.cmp.paren-chaining"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.cmp.paren-chaining" title="expr.cmp.paren-chaining"><span>[expr<wbr>.cmp<wbr>.paren-chaining]</span></a>
</div>
<p>Parentheses are required when chaining comparison operators. For example, the expression <code class="hljs">a == b == c</code> is invalid and may be written as <code class="hljs">(a == b) == c</code>.</p>
<div class="rule" id="r-expr.cmp.trait"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.cmp.trait" title="expr.cmp.trait"><span>[expr<wbr>.cmp<wbr>.trait]</span></a>
</div>
<p>Unlike arithmetic and logical operators, the traits for overloading these operators are used more generally to show how a type may be compared and will likely be assumed to define actual comparisons by functions that use these traits as bounds.
Many functions and macros in the standard library can then use that assumption (although not to ensure safety).</p>
<div class="rule" id="r-expr.cmp.place"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.cmp.place" title="expr.cmp.place"><span>[expr<wbr>.cmp<wbr>.place]</span></a>
</div>
<p>Unlike the arithmetic and logical operators above, these operators implicitly take shared borrows of their operands, evaluating them in <a href="http://127.0.0.1:3000/expressions.html#place-expressions-and-value-expressions">place expression context</a>:</p>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span><span class="boring"><span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span>;
</span><span class="boring"><span class="hljs-keyword">let</span> b = <span class="hljs-number">1</span>;
</span>a == b;
<span class="hljs-comment">// is equivalent to</span>
::std::cmp::<span class="hljs-built_in">PartialEq</span>::eq(&amp;a, &amp;b);
<span class="boring">}</span></code></pre></pre>
<p>This means that the operands don’t have to be moved out of.</p>
<div class="rule" id="r-expr.cmp.behavior"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.cmp.behavior" title="expr.cmp.behavior"><span>[expr<wbr>.cmp<wbr>.behavior]</span></a>
</div>
<div class="table-wrapper"><table><thead><tr><th>Symbol</th><th>Meaning</th><th>Overloading method</th></tr></thead><tbody>
<tr><td><code class="hljs">==</code></td><td>Equal</td><td><code class="hljs">std::cmp::PartialEq::eq</code></td></tr>
<tr><td><code class="hljs">!=</code></td><td>Not equal</td><td><code class="hljs">std::cmp::PartialEq::ne</code></td></tr>
<tr><td><code class="hljs">&gt;</code></td><td>Greater than</td><td><code class="hljs">std::cmp::PartialOrd::gt</code></td></tr>
<tr><td><code class="hljs">&lt;</code></td><td>Less than</td><td><code class="hljs">std::cmp::PartialOrd::lt</code></td></tr>
<tr><td><code class="hljs">&gt;=</code></td><td>Greater than or equal to</td><td><code class="hljs">std::cmp::PartialOrd::ge</code></td></tr>
<tr><td><code class="hljs">&lt;=</code></td><td>Less than or equal to</td><td><code class="hljs">std::cmp::PartialOrd::le</code></td></tr>
</tbody></table>
</div>
<p>Here are examples of the comparison operators being used.</p>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span><span class="hljs-built_in">assert!</span>(<span class="hljs-number">123</span> == <span class="hljs-number">123</span>);
<span class="hljs-built_in">assert!</span>(<span class="hljs-number">23</span> != -<span class="hljs-number">12</span>);
<span class="hljs-built_in">assert!</span>(<span class="hljs-number">12.5</span> &gt; <span class="hljs-number">12.2</span>);
<span class="hljs-built_in">assert!</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>] &lt; [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]);
<span class="hljs-built_in">assert!</span>(<span class="hljs-string">'A'</span> &lt;= <span class="hljs-string">'B'</span>);
<span class="hljs-built_in">assert!</span>(<span class="hljs-string">"World"</span> &gt;= <span class="hljs-string">"Hello"</span>);
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-expr.bool-logic"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.bool-logic" title="expr.bool-logic"><span>[expr<wbr>.bool-logic]</span></a>
</div>
<h2 id="lazy-boolean-operators"><a class="header" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#lazy-boolean-operators">Lazy boolean operators</a></h2>
<div class="rule" id="r-expr.bool-logic.syntax"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.bool-logic.syntax" title="expr.bool-logic.syntax"><span>[expr<wbr>.bool-logic<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-LazyBooleanExpression" onclick="show_railroad()"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#railroad-LazyBooleanExpression">LazyBooleanExpression</a></span> → <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">||</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">&amp;&amp;</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Hide syntax diagram</button></p>
</div>
<div class="grammar-railroad">
<div style="width: 374px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-LazyBooleanExpression"><svg class="railroad" viewBox="0 0 374 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"></rect>
<g class="verticalgrid">
<a class="link" xlink:href="operator-expr.html#grammar-LazyBooleanExpression">
<text class="comment" x="92" y="25">
LazyBooleanExpression</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path>
<g class="choice">
<path d=" M 35 53 h 24 m 256 0 h 24"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="42"></rect>
<text x="109" y="58">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="169" y="42"></rect>
<text x="187" y="58">
||</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="215" y="42"></rect>
<text x="265" y="58">
Expression</text>
</g>
</a>
<path d=" M 159 53 h 10"></path>
<path d=" M 205 53 h 10"></path>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 280 0 v -9 a 12 12 0 0 1 12 -12"></path>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 256 0 h 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="75"></rect>
<text x="109" y="91">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="169" y="75"></rect>
<text x="187" y="91">
&amp;&amp;</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="215" y="75"></rect>
<text x="265" y="91">
Expression</text>
</g>
</a>
<path d=" M 159 86 h 10"></path>
<path d=" M 205 86 h 10"></path>
</g>
</g>
<path d=" M 349 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path>
<path d=" M 25 53 h 10"></path>
<path d=" M 339 53 h 10"></path>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-expr.bool-logic.intro"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.bool-logic.intro" title="expr.bool-logic.intro"><span>[expr<wbr>.bool-logic<wbr>.intro]</span></a>
</div>
<p>The operators <code class="hljs">||</code> and <code class="hljs">&amp;&amp;</code> may be applied to operands of boolean type.
The <code class="hljs">||</code> operator denotes logical ‘or’, and the <code class="hljs">&amp;&amp;</code> operator denotes logical ‘and’.</p>
<div class="rule" id="r-expr.bool-logic.conditional-evaluation"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.bool-logic.conditional-evaluation" title="expr.bool-logic.conditional-evaluation"><span>[expr<wbr>.bool-logic<wbr>.conditional-evaluation]</span></a>
</div>
<p>They differ from <code class="hljs">|</code> and <code class="hljs">&amp;</code> in that the right-hand operand is only evaluated when the left-hand operand does not already determine the result of the expression.
That is, <code class="hljs">||</code> only evaluates its right-hand operand when the left-hand operand evaluates to <code class="hljs">false</code>, and <code class="hljs">&amp;&amp;</code> only when it evaluates to <code class="hljs">true</code>.</p>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span><span class="hljs-keyword">let</span> x = <span class="hljs-literal">false</span> || <span class="hljs-literal">true</span>; <span class="hljs-comment">// true</span>
<span class="hljs-keyword">let</span> y = <span class="hljs-literal">false</span> &amp;&amp; <span class="hljs-built_in">panic!</span>(); <span class="hljs-comment">// false, doesn't evaluate `panic!()`</span>
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-expr.as"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.as" title="expr.as"><span>[expr<wbr>.as]</span></a>
</div>
<h2 id="type-cast-expressions"><a class="header" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#type-cast-expressions">Type cast expressions</a></h2>
<div class="rule" id="r-expr.as.syntax"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.as.syntax" title="expr.as.syntax"><span>[expr<wbr>.as<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-TypeCastExpression" onclick="show_railroad()"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#railroad-TypeCastExpression">TypeCastExpression</a></span> → <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">as</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/types.html#grammar-TypeNoBounds">TypeNoBounds</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Hide syntax diagram</button></p>
</div>
<div class="grammar-railroad">
<div style="width: 342px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-TypeCastExpression"><svg class="railroad" viewBox="0 0 342 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"></rect>
<g class="verticalgrid">
<a class="link" xlink:href="operator-expr.html#grammar-TypeCastExpression">
<text class="comment" x="78" y="25">
TypeCastExpression</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="35" y="42"></rect>
<text x="85" y="58">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="145" y="42"></rect>
<text x="163" y="58">
as</text>
</g>
<a class="link" xlink:href="../types.html#railroad-TypeNoBounds">
<g class="nonterminal">
<rect height="22" width="116" x="191" y="42"></rect>
<text x="249" y="58">
TypeNoBounds</text>
</g>
</a>
<path d=" M 135 53 h 10"></path>
<path d=" M 181 53 h 10"></path>
</g>
<path d=" M 317 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path>
<path d=" M 25 53 h 10"></path>
<path d=" M 307 53 h 10"></path>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-expr.as.intro"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.as.intro" title="expr.as.intro"><span>[expr<wbr>.as<wbr>.intro]</span></a>
</div>
<p>A type cast expression is denoted with the binary operator <code class="hljs">as</code>.</p>
<div class="rule" id="r-expr.as.result"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.as.result" title="expr.as.result"><span>[expr<wbr>.as<wbr>.result]</span></a>
</div>
<p>Executing an <code class="hljs">as</code> expression casts the value on the left-hand side to the type on the right-hand side.</p>
<div class="rule" id="r-expr.as.coercions"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.as.coercions" title="expr.as.coercions"><span>[expr<wbr>.as<wbr>.coercions]</span></a>
</div>
<p><code class="hljs">as</code> can be used to explicitly perform <a href="http://127.0.0.1:3000/type-coercions.html">coercions</a>, as well as the following additional casts.
Any cast that does not fit either a coercion rule or an entry in the table is a compiler error.
Here <code class="hljs">*T</code> means either <code class="hljs">*const T</code> or <code class="hljs">*mut T</code>. <code class="hljs">m</code> stands for optional <code class="hljs">mut</code> in
reference types and <code class="hljs">mut</code> or <code class="hljs">const</code> in pointer types.</p>
<div class="table-wrapper"><table><thead><tr><th>Type of <code class="hljs">e</code></th><th><code class="hljs">U</code></th><th>Cast performed by <code class="hljs">e as U</code></th></tr></thead><tbody>
<tr><td>Integer type</td><td>Integer type</td><td><a href="http://127.0.0.1:3000/expressions/operator-expr.html#r-expr.as.numeric">Numeric cast</a></td></tr>
<tr><td><code class="hljs">bool</code> or <code class="hljs">char</code></td><td>Integer type</td><td><a href="http://127.0.0.1:3000/expressions/operator-expr.html#r-expr.as.bool-char-as-int">Primitive to integer cast</a></td></tr>
</tbody></table>
</div><!-- | `u8`                  | `char`                | [`u8` to `char` cast][expr.as.u8-as-char]             | -->
<!-- | Enumeration           | Integer type          | [Enum cast][expr.as.enum]                             | -->
<!-- | `*T`                  | `*V` [^meta-compat]   | [Pointer to pointer cast][expr.as.pointer]            | -->
<!-- | `*T` where `T: Sized` | Integer type          | [Pointer to address cast][expr.as.pointer-as-int]     | -->
<!-- | Integer type          | `*V` where `V: Sized` | [Address to pointer cast][expr.as.int-as-pointer]     | -->
<!-- | `&m₁ [T; n]`          | `*m₂ T` [^lessmut]    | Array to pointer cast                                 | -->
<!-- | `*m₁ [T; n]`          | `*m₂ T` [^lessmut]    | Array to pointer cast                                 | -->
<!-- [^meta-compat]: where `T` and `V` have compatible metadata:
      * `V: Sized`, or
      * Both slice metadata (`*[u16]` -> `*[u8]`, `*str` -> `*(u8, [u32])`), or
      * Both the same trait object metadata, modulo dropping auto traits (`*dyn Debug` -> `*(u16, dyn Debug)`, `*dyn Debug + Send` -> `*dyn Debug`)
          * **Note**: *adding* auto traits is only allowed if the principal trait has the auto trait as a super trait (given `trait T: Send {}`, `*dyn T` -> `*dyn T + Send` is valid, but `*dyn Debug` -> `*dyn Debug + Send` is not)
          * **Note**: Generics (including lifetimes) must match (`*dyn T<'a, A>` -> `*dyn T<'b, B>` requires `'a = 'b` and `A = B`)

[^lessmut]: only when `m₁` is `mut` or `m₂` is `const`. Casting `mut` reference/pointer to
`const` pointer is allowed.

[^no-capture]: only for closures that do not capture (close over) any local variables can be casted to function pointers. -->
<h3 id="semantics"><a class="header" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#semantics">Semantics</a></h3>
<div class="rule" id="r-expr.as.numeric"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.as.numeric" title="expr.as.numeric"><span>[expr<wbr>.as<wbr>.numeric]</span></a>
</div>
<h4 id="numeric-cast"><a class="header" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#numeric-cast">Numeric cast</a></h4>
<div class="rule" id="r-expr.as.numeric.int-same-size"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.as.numeric.int-same-size" title="expr.as.numeric.int-same-size"><span>[expr<wbr>.as<wbr>.numeric<wbr>.int-same-size]</span></a>
</div>
<ul>
<li>
<p>Casting between two integers of the same size (e.g. i32 -&gt; u32) is a no-op
(Rust uses 2’s complement for negative values of fixed integers)</p>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span><span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">42i32</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">u32</span>, <span class="hljs-number">42u32</span>);
<span class="hljs-built_in">assert_eq!</span>(-<span class="hljs-number">1i32</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">u32</span>, <span class="hljs-number">4294967295u32</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">4294967295u32</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">i32</span>, -<span class="hljs-number">1i32</span>);
<span class="hljs-built_in">assert_eq!</span>(-<span class="hljs-number">1isize</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">usize</span>, <span class="hljs-number">4294967295usize</span>); <span class="hljs-comment">// on 32-bit machine</span>
<span class="boring">}</span></code></pre></pre>
</li>
</ul>
<div class="rule" id="r-expr.as.numeric.int-truncation"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.as.numeric.int-truncation" title="expr.as.numeric.int-truncation"><span>[expr<wbr>.as<wbr>.numeric<wbr>.int-truncation]</span></a>
</div>
<ul>
<li>
<p>Casting from a larger integer to a smaller integer (e.g. u32 -&gt; u8) will
truncate</p>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span><span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">42u16</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">u8</span>, <span class="hljs-number">42u8</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">1234u16</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">u8</span>, <span class="hljs-number">210u8</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">0xabcdu16</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">u8</span>, <span class="hljs-number">0xcdu8</span>);

<span class="hljs-built_in">assert_eq!</span>(-<span class="hljs-number">42i16</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">i8</span>, -<span class="hljs-number">42i8</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">1234u16</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">i8</span>, -<span class="hljs-number">46i8</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">0xabcdi32</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">i8</span>, -<span class="hljs-number">51i8</span>);
<span class="boring">}</span></code></pre></pre>
</li>
</ul>
<div class="rule" id="r-expr.as.numeric.int-extension"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.as.numeric.int-extension" title="expr.as.numeric.int-extension"><span>[expr<wbr>.as<wbr>.numeric<wbr>.int-extension]</span></a>
</div>
<ul>
<li>
<p>Casting from a smaller integer to a larger integer (e.g. u8 -&gt; u32) will</p>
<ul>
<li>zero-extend if the source is unsigned</li>
<li>sign-extend if the source is signed</li>
</ul>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span><span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">42i8</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">i16</span>, <span class="hljs-number">42i16</span>);
<span class="hljs-built_in">assert_eq!</span>(-<span class="hljs-number">17i8</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">i16</span>, -<span class="hljs-number">17i16</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">0b1000_1010u8</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">u16</span>, <span class="hljs-number">0b0000_0000_1000_1010u16</span>, <span class="hljs-string">"Zero-extend"</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">0b0000_1010i8</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">i16</span>, <span class="hljs-number">0b0000_0000_0000_1010i16</span>, <span class="hljs-string">"Sign-extend 0"</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">0b1000_1010u8</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">i8</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">i16</span>, <span class="hljs-number">0b1111_1111_1000_1010u16</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">i16</span>, <span class="hljs-string">"Sign-extend 1"</span>);
<span class="boring">}</span></code></pre></pre>
</li>
</ul>
<!-- r[expr.as.enum]
#### Enum cast

<div class="rule" id="r-expr.as.enum.discriminant"><a class="rule-link" href="#r-expr.as.enum.discriminant" title="expr.as.enum.discriminant"><span>[expr<wbr>.as<wbr>.enum<wbr>.discriminant]</span/></a>
</div>


Casts an enum to its discriminant, then uses a numeric cast if needed.
Casting is limited to the following kinds of enumerations:

* [Unit-only enums]
* [Field-less enums] without [explicit discriminants], or where only unit-variants have explicit discriminants

```rust
enum Enum { A, B, C }
assert_eq!(Enum::A as i32, 0);
assert_eq!(Enum::B as i32, 1);
assert_eq!(Enum::C as i32, 2);
```

<div class="rule" id="r-expr.as.enum.no-drop"><a class="rule-link" href="#r-expr.as.enum.no-drop" title="expr.as.enum.no-drop"><span>[expr<wbr>.as<wbr>.enum<wbr>.no-drop]</span/></a>
</div>


Casting is not allowed if the enum implements [`Drop`]. -->
<div class="rule" id="r-expr.as.bool-char-as-int"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.as.bool-char-as-int" title="expr.as.bool-char-as-int"><span>[expr<wbr>.as<wbr>.bool-char-as-int]</span></a>
</div>
<h4 id="primitive-to-integer-cast"><a class="header" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#primitive-to-integer-cast">Primitive to integer cast</a></h4>
<ul>
<li><code class="hljs">false</code> casts to <code class="hljs">0</code>, <code class="hljs">true</code> casts to <code class="hljs">1</code></li>
<li><code class="hljs">char</code> casts to the value of the code point, then uses a numeric cast if needed.</li>
</ul>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span><span class="hljs-built_in">assert_eq!</span>(<span class="hljs-literal">false</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">i32</span>, <span class="hljs-number">0</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-literal">true</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">i32</span>, <span class="hljs-number">1</span>);
<span class="hljs-built_in">assert_eq!</span>(<span class="hljs-string">'A'</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">i32</span>, <span class="hljs-number">65</span>);
<span class="hljs-comment">// assert_eq!('Ö' as i32, 214);</span>
<span class="boring">}</span></code></pre></pre>
<!-- r[expr.as.u8-as-char]
#### `u8` to `char` cast

Casts to the `char` with the corresponding code point.

```rust
assert_eq!(65u8 as char, 'A');
assert_eq!(214u8 as char, 'Ö');
``` -->
<div class="rule" id="r-expr.assign"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign" title="expr.assign"><span>[expr<wbr>.assign]</span></a>
</div>
<h2 id="assignment-expressions"><a class="header" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#assignment-expressions">Assignment expressions</a></h2>
<div class="rule" id="r-expr.assign.syntax"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.syntax" title="expr.assign.syntax"><span>[expr<wbr>.assign<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-AssignmentExpression" onclick="show_railroad()"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#railroad-AssignmentExpression">AssignmentExpression</a></span> → <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">=</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Hide syntax diagram</button></p>
</div>
<div class="grammar-railroad">
<div style="width: 318px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-AssignmentExpression"><svg class="railroad" viewBox="0 0 318 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"></rect>
<g class="verticalgrid">
<a class="link" xlink:href="operator-expr.html#grammar-AssignmentExpression">
<text class="comment" x="88" y="25">
AssignmentExpression</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="35" y="42"></rect>
<text x="85" y="58">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="145" y="42"></rect>
<text x="159" y="58">
=</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="183" y="42"></rect>
<text x="233" y="58">
Expression</text>
</g>
</a>
<path d=" M 135 53 h 10"></path>
<path d=" M 173 53 h 10"></path>
</g>
<path d=" M 293 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path>
<path d=" M 25 53 h 10"></path>
<path d=" M 283 53 h 10"></path>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-expr.assign.intro"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.intro" title="expr.assign.intro"><span>[expr<wbr>.assign<wbr>.intro]</span></a>
</div>
<p>An <em>assignment expression</em> moves a value into a specified place.</p>
<div class="rule" id="r-expr.assign.assignee"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.assignee" title="expr.assign.assignee"><span>[expr<wbr>.assign<wbr>.assignee]</span></a>
</div>
<p>An assignment expression consists of a <a href="http://127.0.0.1:3000/expressions.html#mutability">mutable</a> <a href="http://127.0.0.1:3000/expressions.html#place-expressions-and-value-expressions">assignee expression</a>, the <em>assignee operand</em>, followed by an equals sign (<code class="hljs">=</code>) and a <a href="http://127.0.0.1:3000/expressions.html#place-expressions-and-value-expressions">value expression</a>, the <em>assigned value operand</em>.</p>
<div class="rule" id="r-expr.assign.behavior-basic"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.behavior-basic" title="expr.assign.behavior-basic"><span>[expr<wbr>.assign<wbr>.behavior-basic]</span></a>
</div>
<p>In its most basic form, an assignee expression is a <a href="http://127.0.0.1:3000/expressions.html#place-expressions-and-value-expressions">place expression</a>, and we discuss this case first.</p>
<div class="rule" id="r-expr.assign.behavior-destructuring"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.behavior-destructuring" title="expr.assign.behavior-destructuring"><span>[expr<wbr>.assign<wbr>.behavior-destructuring]</span></a>
</div>
<p>The more general case of destructuring assignment is discussed below, but this case always decomposes into sequential assignments to place expressions, which may be considered the more fundamental case.</p>
<div class="rule" id="r-expr.assign.basic"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.basic" title="expr.assign.basic"><span>[expr<wbr>.assign<wbr>.basic]</span></a>
</div>
<h3 id="basic-assignments"><a class="header" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#basic-assignments">Basic assignments</a></h3>
<div class="rule" id="r-expr.assign.evaluation-order"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.evaluation-order" title="expr.assign.evaluation-order"><span>[expr<wbr>.assign<wbr>.evaluation-order]</span></a>
</div>
<p>Evaluating assignment expressions begins by evaluating its operands.
The assigned value operand is evaluated first, followed by the assignee expression.</p>
<div class="rule" id="r-expr.assign.destructuring-order"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.destructuring-order" title="expr.assign.destructuring-order"><span>[expr<wbr>.assign<wbr>.destructuring-order]</span></a>
</div>
<p>For <strong>destructuring</strong> assignment, subexpressions of the assignee expression are evaluated left-to-right.</p>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>This is different than other expressions in that the right operand is evaluated before the left one.</p>
</blockquote>
</div>
<div class="rule" id="r-expr.assign.drop-target"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.drop-target" title="expr.assign.drop-target"><span>[expr<wbr>.assign<wbr>.drop-target]</span></a>
</div>
<p>It then has the effect of first <a href="http://127.0.0.1:3000/destructors.html">dropping</a> the value at the assigned place, unless the place is an uninitialized local variable or an uninitialized field of a local variable.</p>
<div class="rule" id="r-expr.assign.behavior"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.behavior" title="expr.assign.behavior"><span>[expr<wbr>.assign<wbr>.behavior]</span></a>
</div>
<p>Next it either <a href="http://127.0.0.1:3000/expressions.html#moved-and-copied-types">copies or moves</a> the assigned value to the assigned place.</p>
<div class="rule" id="r-expr.assign.result"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.result" title="expr.assign.result"><span>[expr<wbr>.assign<wbr>.result]</span></a>
</div>
<p>An assignment expression always produces <strong><a href="http://127.0.0.1:3000/types/tuple.html">the unit value</a></strong> <code class="hljs">()</code>, which is different from those in C or C++.</p>
<p>Example:</p>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> x = <span class="hljs-number">0</span>;
<span class="hljs-keyword">let</span> y = <span class="hljs-number">0</span>;
x = y;
<span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> z;
z = x = y; <span class="hljs-comment">// evaluate (x = y) first, and z has () type</span>
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-expr.assign.destructure"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.destructure" title="expr.assign.destructure"><span>[expr<wbr>.assign<wbr>.destructure]</span></a>
</div>
<h3 id="destructuring-assignments"><a class="header" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#destructuring-assignments">Destructuring assignments</a></h3>
<div class="rule" id="r-expr.assign.destructure.intro"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.destructure.intro" title="expr.assign.destructure.intro"><span>[expr<wbr>.assign<wbr>.destructure<wbr>.intro]</span></a>
</div>
<p>Destructuring assignment is a counterpart to destructuring pattern matches for variable declaration, permitting assignment to complex values, such as tuples or structs.
For instance, we may swap two mutable variables:</p>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span><span class="hljs-keyword">let</span> (<span class="hljs-keyword">mut</span> a, <span class="hljs-keyword">mut</span> b) = (<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
<span class="hljs-comment">// Swap `a` and `b` using destructuring assignment.</span>
(b, a) = (a, b);
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-expr.assign.destructure.assignee"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.destructure.assignee" title="expr.assign.destructure.assignee"><span>[expr<wbr>.assign<wbr>.destructure<wbr>.assignee]</span></a>
</div>
<p>In contrast to destructuring declarations using <code class="hljs">let</code>, patterns may not appear on the left-hand side of an assignment due to syntactic ambiguities.
Instead, a group of expressions that correspond to patterns are designated to be <a href="http://127.0.0.1:3000/expressions.html#place-expressions-and-value-expressions">assignee expressions</a>, and permitted on the left-hand side of an assignment.
Assignee expressions are then desugared to pattern matches followed by sequential assignment.</p>
<div class="rule" id="r-expr.assign.destructure.irrefutable"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.destructure.irrefutable" title="expr.assign.destructure.irrefutable"><span>[expr<wbr>.assign<wbr>.destructure<wbr>.irrefutable]</span></a>
</div>
<p>The desugared patterns must be irrefutable: in particular, this means that only slice patterns whose length is known at compile-time, and the trivial slice <code class="hljs">[..]</code>, are permitted for destructuring assignment.</p>
<p>The desugaring method is straightforward, and is illustrated best by example.</p>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span><span class="boring"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Struct</span></span> { x: <span class="hljs-built_in">u32</span>, y: <span class="hljs-built_in">u32</span> }
</span><span class="boring"><span class="hljs-keyword">let</span> (<span class="hljs-keyword">mut</span> a, <span class="hljs-keyword">mut</span> b) = (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
</span>(a, b) = (<span class="hljs-number">3</span>, <span class="hljs-number">4</span>);

[a, b] = [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>];

Struct { x: a, y: b } = Struct { x: <span class="hljs-number">3</span>, y: <span class="hljs-number">4</span>};

<span class="hljs-comment">// desugars to:</span>

{
    <span class="hljs-keyword">let</span> (_a, _b) = (<span class="hljs-number">3</span>, <span class="hljs-number">4</span>);
    a = _a;
    b = _b;
}

{
    <span class="hljs-keyword">let</span> [_a, _b] = [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>];
    a = _a;
    b = _b;
}

{
    <span class="hljs-keyword">let</span> Struct { x: _a, y: _b } = Struct { x: <span class="hljs-number">3</span>, y: <span class="hljs-number">4</span>};
    a = _a;
    b = _b;
}
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-expr.assign.destructure.repeat-ident"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.destructure.repeat-ident" title="expr.assign.destructure.repeat-ident"><span>[expr<wbr>.assign<wbr>.destructure<wbr>.repeat-ident]</span></a>
</div>
<p>Identifiers are not forbidden from being used multiple times in a single assignee expression.</p>
<div class="rule" id="r-expr.assign.destructure.discard-value"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.destructure.discard-value" title="expr.assign.destructure.discard-value"><span>[expr<wbr>.assign<wbr>.destructure<wbr>.discard-value]</span></a>
</div>
<p><a href="http://127.0.0.1:3000/expressions/underscore-expr.html">Underscore expressions</a> and empty <a href="http://127.0.0.1:3000/expressions/range-expr.html">range expressions</a> may be used to ignore certain values, without binding them.</p>
<div class="rule" id="r-expr.assign.destructure.default-binding"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.assign.destructure.default-binding" title="expr.assign.destructure.default-binding"><span>[expr<wbr>.assign<wbr>.destructure<wbr>.default-binding]</span></a>
</div>
<p>Note that default binding modes do not apply for the desugared expression.</p>
<div class="rule" id="r-expr.compound-assign"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.compound-assign" title="expr.compound-assign"><span>[expr<wbr>.compound-assign]</span></a>
</div>
<h2 id="compound-assignment-expressions"><a class="header" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#compound-assignment-expressions">Compound assignment expressions</a></h2>
<div class="rule" id="r-expr.compound-assign.syntax"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.compound-assign.syntax" title="expr.compound-assign.syntax"><span>[expr<wbr>.compound-assign<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-CompoundAssignmentExpression" onclick="show_railroad()"><a href="http://127.0.0.1:3000/expressions/operator-expr.html#railroad-CompoundAssignmentExpression">CompoundAssignmentExpression</a></span> → <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">+=</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">-=</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">*=</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">/=</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">%=</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">&amp;=</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">|=</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">^=</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">&lt;&lt;=</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <br>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">&gt;&gt;=</span> <span class="grammar-text"><a href="http://127.0.0.1:3000/expressions.html#grammar-Expression">Expression</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Hide syntax diagram</button></p>
</div>
<div class="grammar-railroad">
<div style="width: 382px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-CompoundAssignmentExpression"><svg class="railroad" viewBox="0 0 382 371" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"></rect>
<g class="verticalgrid">
<a class="link" xlink:href="operator-expr.html#grammar-CompoundAssignmentExpression">
<text class="comment" x="116" y="25">
CompoundAssignmentExpression</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path>
<g class="choice">
<path d=" M 35 53 h 24 m 256 0 h 32"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="42"></rect>
<text x="109" y="58">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="169" y="42"></rect>
<text x="187" y="58">
+=</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="215" y="42"></rect>
<text x="265" y="58">
Expression</text>
</g>
</a>
<path d=" M 159 53 h 10"></path>
<path d=" M 205 53 h 10"></path>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 288 0 v -9 a 12 12 0 0 1 12 -12"></path>
<path d=" M 47 74 v 33 m 288 0 v -33"></path>
<path d=" M 47 107 v 33 m 288 0 v -33"></path>
<path d=" M 47 140 v 33 m 288 0 v -33"></path>
<path d=" M 47 173 v 33 m 288 0 v -33"></path>
<path d=" M 47 206 v 33 m 288 0 v -33"></path>
<path d=" M 47 239 v 33 m 288 0 v -33"></path>
<path d=" M 47 272 v 33 m 288 0 v -33"></path>
<path d=" M 47 305 v 33 m 288 0 v -33"></path>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 256 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="75"></rect>
<text x="109" y="91">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="169" y="75"></rect>
<text x="187" y="91">
-=</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="215" y="75"></rect>
<text x="265" y="91">
Expression</text>
</g>
</a>
<path d=" M 159 86 h 10"></path>
<path d=" M 205 86 h 10"></path>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 256 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="108"></rect>
<text x="109" y="124">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="169" y="108"></rect>
<text x="187" y="124">
*=</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="215" y="108"></rect>
<text x="265" y="124">
Expression</text>
</g>
</a>
<path d=" M 159 119 h 10"></path>
<path d=" M 205 119 h 10"></path>
</g>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 256 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="141"></rect>
<text x="109" y="157">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="169" y="141"></rect>
<text x="187" y="157">
/=</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="215" y="141"></rect>
<text x="265" y="157">
Expression</text>
</g>
</a>
<path d=" M 159 152 h 10"></path>
<path d=" M 205 152 h 10"></path>
</g>
<path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 256 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="174"></rect>
<text x="109" y="190">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="169" y="174"></rect>
<text x="187" y="190">
%=</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="215" y="174"></rect>
<text x="265" y="190">
Expression</text>
</g>
</a>
<path d=" M 159 185 h 10"></path>
<path d=" M 205 185 h 10"></path>
</g>
<path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 256 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="207"></rect>
<text x="109" y="223">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="169" y="207"></rect>
<text x="187" y="223">
&amp;=</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="215" y="207"></rect>
<text x="265" y="223">
Expression</text>
</g>
</a>
<path d=" M 159 218 h 10"></path>
<path d=" M 205 218 h 10"></path>
</g>
<path d=" M 47 239 v 0 a 12 12 0 0 0 12 12 m 256 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="240"></rect>
<text x="109" y="256">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="169" y="240"></rect>
<text x="187" y="256">
|=</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="215" y="240"></rect>
<text x="265" y="256">
Expression</text>
</g>
</a>
<path d=" M 159 251 h 10"></path>
<path d=" M 205 251 h 10"></path>
</g>
<path d=" M 47 272 v 0 a 12 12 0 0 0 12 12 m 256 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="273"></rect>
<text x="109" y="289">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="169" y="273"></rect>
<text x="187" y="289">
^=</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="215" y="273"></rect>
<text x="265" y="289">
Expression</text>
</g>
</a>
<path d=" M 159 284 h 10"></path>
<path d=" M 205 284 h 10"></path>
</g>
<path d=" M 47 305 v 0 a 12 12 0 0 0 12 12 m 264 0 h 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="306"></rect>
<text x="109" y="322">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="169" y="306"></rect>
<text x="191" y="322">
&lt;&lt;=</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="223" y="306"></rect>
<text x="273" y="322">
Expression</text>
</g>
</a>
<path d=" M 159 317 h 10"></path>
<path d=" M 213 317 h 10"></path>
</g>
<path d=" M 47 338 v 0 a 12 12 0 0 0 12 12 m 264 0 h 0 a 12 12 0 0 0 12 -12 v 0"></path>
<g class="sequence">
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="339"></rect>
<text x="109" y="355">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="169" y="339"></rect>
<text x="191" y="355">
&gt;&gt;=</text>
</g>
<a class="link" xlink:href="../expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="223" y="339"></rect>
<text x="273" y="355">
Expression</text>
</g>
</a>
<path d=" M 159 350 h 10"></path>
<path d=" M 213 350 h 10"></path>
</g>
</g>
<path d=" M 357 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path>
<path d=" M 25 53 h 10"></path>
<path d=" M 347 53 h 10"></path>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-expr.compound-assign.intro"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.compound-assign.intro" title="expr.compound-assign.intro"><span>[expr<wbr>.compound-assign<wbr>.intro]</span></a>
</div>
<p><em>Compound assignment expressions</em> combine arithmetic and logical binary operators with assignment expressions.</p>
<p>For example:</p>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> x = <span class="hljs-number">5</span>;
x += <span class="hljs-number">1</span>;
<span class="hljs-built_in">assert!</span>(x == <span class="hljs-number">6</span>);
<span class="boring">}</span></code></pre></pre>
<p>The syntax of compound assignment is a <a href="http://127.0.0.1:3000/expressions.html#mutability">mutable</a> <a href="http://127.0.0.1:3000/expressions.html#place-expressions-and-value-expressions">place expression</a>, the <em>assigned operand</em>, then one of the operators followed by an <code class="hljs">=</code> as a single token (no whitespace), and then a <a href="http://127.0.0.1:3000/expressions.html#place-expressions-and-value-expressions">value expression</a>, the <em>modifying operand</em>.</p>
<div class="rule" id="r-expr.compound-assign.place"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.compound-assign.place" title="expr.compound-assign.place"><span>[expr<wbr>.compound-assign<wbr>.place]</span></a>
</div>
<p>Unlike other place operands, the assigned place operand must be a place expression.</p>
<div class="rule" id="r-expr.compound-assign.no-value"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.compound-assign.no-value" title="expr.compound-assign.no-value"><span>[expr<wbr>.compound-assign<wbr>.no-value]</span></a>
</div>
<p>Attempting to use a value expression is a compiler error rather than promoting it to a temporary.</p>
<div class="rule" id="r-expr.compound-assign.operand-order"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.compound-assign.operand-order" title="expr.compound-assign.operand-order"><span>[expr<wbr>.compound-assign<wbr>.operand-order]</span></a>
</div>
<p>Evaluation of compound assignment expressions depends on the types of the operators.</p>
<div class="rule" id="r-expr.compound-assign.primitive-order"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.compound-assign.primitive-order" title="expr.compound-assign.primitive-order"><span>[expr<wbr>.compound-assign<wbr>.primitive-order]</span></a>
</div>
<p>If both types are primitives, then the modifying operand will be evaluated first followed by the assigned operand.
It will then set the value of the assigned operand’s place to the value of performing the operation of the operator with the values of the assigned operand and modifying operand.</p>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>This is different than other expressions in that the right operand is evaluated before the left one.</p>
</blockquote>
</div>
<div class="rule" id="r-expr.compound-assign.trait"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.compound-assign.trait" title="expr.compound-assign.trait"><span>[expr<wbr>.compound-assign<wbr>.trait]</span></a>
</div>
<p>Otherwise, this expression is syntactic sugar for calling the function of the overloading compound assignment trait of the operator (see the table earlier in this chapter).
A mutable borrow of the assigned operand is automatically taken.</p>
<p>For example, the following expression statements in <code class="hljs">example</code> are equivalent:</p>
<pre><pre class="playground"><div class="buttons"><button class="clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button><button class="fa fa-play play-button" hidden="" title="Run this code" aria-label="Run this code"></button><button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button></div><code class="language-rust edition2024 hljs hide-boring"><span class="boring"><span class="hljs-meta">#![allow(unused)]</span>
</span><span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
</span><span class="boring"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Addable</span></span>;
</span><span class="boring"><span class="hljs-keyword">use</span> std::ops::AddAssign;
</span>
<span class="hljs-keyword">impl</span> AddAssign&lt;Addable&gt; <span class="hljs-keyword">for</span> Addable {
    <span class="hljs-comment">/* */</span>
<span class="boring"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">add_assign</span></span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>, other: Addable) {}
</span>}

<span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">example</span></span>() {
<span class="boring"><span class="hljs-keyword">let</span> (<span class="hljs-keyword">mut</span> a1, a2) = (Addable, Addable);
</span>  a1 += a2;

<span class="boring"><span class="hljs-keyword">let</span> (<span class="hljs-keyword">mut</span> a1, a2) = (Addable, Addable);
</span>  AddAssign::add_assign(&amp;<span class="hljs-keyword">mut</span> a1, a2);
}
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-expr.compound-assign.result"><a class="rule-link" href="http://127.0.0.1:3000/expressions/operator-expr.html?search=#r-expr.compound-assign.result" title="expr.compound-assign.result"><span>[expr<wbr>.compound-assign<wbr>.result]</span></a>
</div>
<p>Like assignment expressions, compound assignment expressions always produce <a href="http://127.0.0.1:3000/types/tuple.html">the unit value</a>.</p>
<div class="alert alert-warning">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Warning</p>
<p>The evaluation order of operands swaps depending on the types of the operands:
with primitive types the right-hand side will get evaluated first, while with non-primitive types the left-hand side will get evaluated first.
Try not to write code that depends on the evaluation order of operands in compound assignment expressions.
See <a href="https://github.com/rust-lang/rust/blob/1.58.0/src/test/ui/expr/compound-assignment/eval-order.rs">this test</a> for an example of using this dependency.</p>
</blockquote>
</div>
<script>
(function() {
    var fragments = {
        "#slice-dst-pointer-to-pointer-cast": "operator-expr.html#pointer-to-pointer-cast",
    };
    var target = fragments[window.location.hash];
    if (target) {
        var url = window.location.toString();
        var base = url.substring(0, url.lastIndexOf('/'));
        window.location.replace(base + "/" + target);
    }
})();
</script>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="http://127.0.0.1:3000/expressions/block-expr.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="http://127.0.0.1:3000/expressions/grouped-expr.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="http://127.0.0.1:3000/expressions/block-expr.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="http://127.0.0.1:3000/expressions/grouped-expr.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="./Operator expressions - The Rust Reference_files/elasticlunr.min.js.下载"></script>
        <script src="./Operator expressions - The Rust Reference_files/mark.min.js.下载"></script>
        <script src="./Operator expressions - The Rust Reference_files/searcher.js.下载"></script>

        <script src="./Operator expressions - The Rust Reference_files/clipboard.min.js.下载"></script>
        <script src="./Operator expressions - The Rust Reference_files/highlight.js.下载"></script>
        <script src="./Operator expressions - The Rust Reference_files/book.js.下载"></script>

        <!-- Custom JS scripts -->
        <script src="./Operator expressions - The Rust Reference_files/reference.js.下载"></script>



    </div>
    

<script src="chrome-extension://ahgbfffhflknbbdoknekgabmiobdehkk/static/js/inject.js" type="text/javascript" async=""></script></body></html>